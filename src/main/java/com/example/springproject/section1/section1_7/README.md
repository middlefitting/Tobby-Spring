# 1.7 의존관계 주입 (DI)

### 스프링은 DI 기반 IOC 컨테이너
- 스프링의 차별점
- 의존관계 주입을 통해 IOC 수행

### 의존관계 주입
- 오브젝트는 다른 오브젝트에 주입할 수 있는게 아니고 레퍼런스를 전달하는 것
- DI는 외부로부터 레퍼런스를 주입받고 여타 오브젝트와 다이나믹하게 의존관계가 만들어지는 것이 핵심이다.

### 의존관계
- 누가 누구에게 의존하는지 방향성이 존재
- 의존한다는 것은 의존대상이 변경되면 의존하는 대상에 영향을 미친다는 뜻
- 흔한 예시로 메소드를 호출하는 경우 존재

### 인터페이스 의존
- 구현체가 바뀌어도 영향을 받지 않는다.
- 구현 클래스와 관계가 느슨해지고 결합도가 낮아진다.

### 런타임 의존관계
- 설계 시점의 의존관계가 실체화된 것
- 실제 사용대상인 오브젝트를 의존 오브젝트라고 한다.

### DI의 조건
- 런타임 시점에 의존관계가 클래스 모델이나 코드에는 나타나지 않고 인터페이스에 의존한다.
- 런타임 시점의 의존관계는 컨테이너 등 3자가 결정
- 의존관계는 오브젝트에 대한 레퍼런스를 외부에서 제공(주입)

### 의존관계 검색
- DL 이라고 한다.
- 외부로부터 주입이 아니라 스스로 검색을 이용
- static 메소드에서는 의존성 주입을 할 수 없으니 검색을 해야한다.
    - 검색에서는 자신이 스프링 빈일 필요가 없다.
    - 의존관계 주입에서는 주입받으려면 자신이 반드시 스프링 빈이어야 한다.

### DI 받는다
- 주입받는 파라미터가 이미 특정 클래스로 고정되어 있다면 DI 스럽지는 않은 것

### DI 응용
- 로컬 서버와 개발 서버의 필요한 구현체가 다른 경우, DI를 활용했으면 간단하게 바꿀 수 있다.
- 부가 기능 추가시에 기존 코드를 수정하지 말고 DI를 활용해서 사이에 하나 껴놓을 수 있다.
    - 데코레이터 패턴

### 메소드를 이용한 의존관계 주입
- 수정자 메소드를 이용한 주입
- 일반 메소드를 이용한 주입
  - 한번에 여러 파라미터를 받아서 수행
